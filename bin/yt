#!/usr/bin/env perl
use 5.016;
use warnings;
use autodie;

package App::YtDescLinks;

use Getopt::Long qw(:config auto_help bundling);
use Pod::Usage;

use API::YouTube;

my $show_version;

GetOptions(
    'version|v' => \$show_version,
) or pod2usage(2);

if ($show_version) {
    say 'yt ' . API::YouTube->VERSION;
    exit;
}

my $command = shift or pod2usage(2);

if ($command eq 'help') {
    $command = shift;
    unshift @ARGV, '--help';
}

exec { "yt-$command" } ($0, @ARGV);

=head1 NAME

yt - a collection of useful scripts to manage YouTube consumption

=head1 SYNOPSIS

    yt COMMAND [OPTION]...

    --help              display this help message
    --version           display version info

=head1 DESCRIPTION

Runs the command yt-C<COMMAND>

An API key is required to access the YouTube Data API. Alternatively, requests
may be authorized by providing an OAuth2 access token.

=head1

=head1 ENVIRONMENT

=over 4

=item YT_API_KEY

Set the YouTube Data API key.

=item YT_ACCESS_TOKEN

Set the OAuth2 access token.

=back

=head1 AUTHOR

Aaron L. Zeng <me@bcc32.com>

=head1 SEE ALSO

L<yt-desc-info(1)>, L<yt-info(1)>, L<yt-oauth(1)>

=cut
